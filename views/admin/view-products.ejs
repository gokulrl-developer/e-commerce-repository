<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Hello, World!</title>
  </head>
  <body class="bg-gray-900 text-white">
    

    <!-- Header Section -->
      <%-include('../partials/admin-header') %>

    <div class="flex">
      <!-- Sidebar -->
      <%-include('../partials/admin-sidebar') %>

      <!-- Main Content -->
      <div class="w-4/5 p-6">
        <div class="flex justify-between items-center mb-6">
          <button class="bg-yellow-500 text-black px-4 py-2 rounded hover:bg-yellow-600">
            Add New Product
          </button>
          <div class="flex w-1/2">
            <input
              type="text"
              class="w-full px-4 py-2 text-gray-900 rounded-l"
              placeholder="Search for products"
            />
            <button class="bg-gray-700 text-white px-4 py-2 rounded-r hover:bg-gray-600">
              Search
            </button>
          </div>
        </div>

        <div class="bg-gray-800 p-4 rounded">
          <table class="w-full text-left text-gray-300">
            <thead>
              <tr>
                <th class="border-b border-gray-700 py-2">Product</th>
                <th class="border-b border-gray-700 py-2">Price</th>
                <th class="border-b border-gray-700 py-2">Stock</th>
                <th class="border-b border-gray-700 py-2">Category</th>
                <th class="border-b border-gray-700 py-2">Action</th>
              </tr>
            </thead>
            <tbody>
              <% products.forEach(product => { %>
              <tr>
                <td class="py-2"><%= product.productName %></td>
                <td class="py-2"><%= product.price %></td>
                <td class="py-2"><%= product.stock %></td>
                <td class="py-2"><%= product.categoryId.categoryName %></td>
                <td class="py-2 space-x-2">
                  <button
                    class="bg-green-500 text-white px-3 py-1 rounded hover:bg-green-600"
                    onclick="edit('<%= product._id %>')"
                  >
                    Edit
                  </button>
                  <button
                    class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"
                    onclick="remove('<%= product._id %>')"
                  >
                    Remove
                  </button>
                </td>
              </tr>
              <% }); %>
            </tbody>
          </table>

          <!-- Pagination -->
          <div class="mt-4 flex justify-center space-x-2">
            <a href="#" class="px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600">Previous</a>
            <a href="#" class="px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600">1</a>
            <a href="#" class="px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600">2</a>
            <a href="#" class="px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600">3</a>
            <a href="#" class="px-3 py-1 bg-gray-700 text-white rounded hover:bg-gray-600">Next</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer Section -->
     <%-include('../partials/admin-footer') %>


  </body>
</html>
<script>
    function edit(productId){
   fetch(`/admin/products/edit/${productId}`, {
  method: 'GET'})
    }
    function remove(productId){
    fetch(`/admin/products/remove/${productId}`, {
  method: 'GET'})
    }
  </script>